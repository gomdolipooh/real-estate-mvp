# ğŸ”§ Firebase ê·œì¹™ ì„¤ì • (í•„ìˆ˜!)

í˜„ì¬ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ” Firebase ë³´ì•ˆ ê·œì¹™ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
ì•„ë˜ ë‹¨ê³„ë¥¼ **ë°˜ë“œì‹œ** ë”°ë¼ì£¼ì„¸ìš”.

## âš ï¸ í˜„ì¬ ì—ëŸ¬ ìƒí™©
```
âŒ í•„í„° ì˜µì…˜ ë¡œë“œ ì‹¤íŒ¨: Missing or insufficient permissions
âŒ Storage CORS ì—ëŸ¬: Access blocked by CORS policy
```

---

## ğŸ“ 1ë‹¨ê³„: Firestore ê·œì¹™ ì„¤ì •

### Firebase Console ì ‘ì†
1. https://console.firebase.google.com/ ì ‘ì†
2. í”„ë¡œì íŠ¸ ì„ íƒ: **vision-ac00e**

### Firestore ê·œì¹™ ì„¤ì •
1. ì™¼ìª½ ë©”ë‰´ â†’ **Firestore Database** í´ë¦­
2. ìƒë‹¨ íƒ­ â†’ **ê·œì¹™** íƒ­ í´ë¦­
3. ê¸°ì¡´ ê·œì¹™ì„ ëª¨ë‘ ì‚­ì œí•˜ê³  ì•„ë˜ ê·œì¹™ ë³µì‚¬/ë¶™ì—¬ë„£ê¸°:

```javascript
rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    // listings ì»¬ë ‰ì…˜ (ë§¤ë¬¼)
    match /listings/{listingId} {
      // ëª¨ë“  ì‚¬ìš©ìê°€ ì½ê¸° ê°€ëŠ¥
      allow read: if true;
      
      // ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì“°ê¸° ê°€ëŠ¥
      allow write: if request.auth != null;
    }
    
    // filterOptions ì»¬ë ‰ì…˜ (í•„í„° ì˜µì…˜)
    match /filterOptions/{optionId} {
      // ëª¨ë“  ì‚¬ìš©ìê°€ ì½ê¸° ê°€ëŠ¥
      allow read: if true;
      
      // ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì“°ê¸° ê°€ëŠ¥
      allow write: if request.auth != null;
    }
    
    // inquiries ì»¬ë ‰ì…˜ (ë§¤ìˆ˜/ë§¤ë„ ì˜ë¢°)
    match /inquiries/{inquiryId} {
      // ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì½ê¸° ê°€ëŠ¥
      allow read: if request.auth != null;
      
      // ëª¨ë“  ì‚¬ìš©ìê°€ ì˜ë¢° ìƒì„± ê°€ëŠ¥
      allow create: if true;
      
      // ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
      allow update, delete: if request.auth != null;
    }
    
    // test ì»¬ë ‰ì…˜ (í…ŒìŠ¤íŠ¸ìš©)
    match /test/{testId} {
      allow read, write: if true;
    }
  }
}
```

4. **âš ï¸ ì¤‘ìš”**: ì˜¤ë¥¸ìª½ ìƒë‹¨ì˜ **"ê²Œì‹œ"** ë²„íŠ¼ì„ í´ë¦­í•´ì•¼ ê·œì¹™ì´ ì ìš©ë©ë‹ˆë‹¤!
5. ì„±ê³µ ë©”ì‹œì§€ í™•ì¸

---

## ğŸ“ 2ë‹¨ê³„: Storage ê·œì¹™ ì„¤ì •

### Storage ê·œì¹™ ì„¤ì •
1. ì™¼ìª½ ë©”ë‰´ â†’ **Storage** í´ë¦­
2. ìƒë‹¨ íƒ­ â†’ **ê·œì¹™** íƒ­ í´ë¦­
3. ê¸°ì¡´ ê·œì¹™ì„ ëª¨ë‘ ì‚­ì œí•˜ê³  ì•„ë˜ ê·œì¹™ ë³µì‚¬/ë¶™ì—¬ë„£ê¸°:

```javascript
rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    // listings í´ë” (ë§¤ë¬¼ ì´ë¯¸ì§€)
    match /listings/{allPaths=**} {
      // ëª¨ë“  ì‚¬ìš©ìê°€ ì½ê¸° ê°€ëŠ¥
      allow read: if true;
      
      // ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì—…ë¡œë“œ ê°€ëŠ¥
      // ì´ë¯¸ì§€ íŒŒì¼ë§Œ í—ˆìš© (10MB ì´í•˜)
      allow write: if request.auth != null 
                   && request.resource.size < 10 * 1024 * 1024
                   && request.resource.contentType.matches('image/.*');
    }
  }
}
```

4. **âš ï¸ ì¤‘ìš”**: ì˜¤ë¥¸ìª½ ìƒë‹¨ì˜ **"ê²Œì‹œ"** ë²„íŠ¼ì„ í´ë¦­í•´ì•¼ ê·œì¹™ì´ ì ìš©ë©ë‹ˆë‹¤!
5. ì„±ê³µ ë©”ì‹œì§€ í™•ì¸

---

## ğŸ“ 3ë‹¨ê³„: Storage ë²„í‚· í™•ì¸ (ì„ íƒ)

Storageê°€ ìƒì„±ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸:

1. ì™¼ìª½ ë©”ë‰´ â†’ **Storage** í´ë¦­
2. ë²„í‚· ì´ë¦„ í™•ì¸: `vision-ac00e.appspot.com`
3. ë§Œì•½ Storageê°€ ì—†ë‹¤ë©´:
   - **"ì‹œì‘í•˜ê¸°"** ë²„íŠ¼ í´ë¦­
   - ë³´ì•ˆ ê·œì¹™: "í”„ë¡œë•ì…˜ ëª¨ë“œì—ì„œ ì‹œì‘" ì„ íƒ
   - ìœ„ì¹˜: "asia-northeast3 (ì„œìš¸)" ì„ íƒ (ë˜ëŠ” ê°€ê¹Œìš´ ì§€ì—­)
   - **"ì™„ë£Œ"** í´ë¦­

---

## âœ… 4ë‹¨ê³„: ê·œì¹™ ì ìš© í™•ì¸

### ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸

1. **í˜ì´ì§€ ì™„ì „íˆ ìƒˆë¡œê³ ì¹¨** (Ctrl + Shift + R)
2. F12 â†’ Console íƒ­ í™•ì¸
3. ì˜ˆìƒ ë¡œê·¸:
   ```
   ğŸ”¥ Firebase ì´ˆê¸°í™” ì™„ë£Œ
   âœ… ì‚¬ìš©ì ì¸ì¦ë¨: smile99kwon@gmail.com
   ğŸ“‹ í•„í„° ì˜µì…˜ ë¡œë“œ...
   âœ… í•„í„° ì˜µì…˜ ë¡œë“œ ì™„ë£Œ  ğŸ‘ˆ ì´ê²Œ ë³´ì—¬ì•¼ í•¨!
   ```

### í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ì‚¬ìš©
```
http://localhost:5500/test-firebase.html
```
1. "Firestore ì“°ê¸° í…ŒìŠ¤íŠ¸" í´ë¦­
2. "Firestore ì½ê¸° í…ŒìŠ¤íŠ¸" í´ë¦­
3. ëª¨ë‘ âœ… ì„±ê³µ ë©”ì‹œì§€ê°€ ë‚˜ì™€ì•¼ í•¨

---

## ğŸ¯ 5ë‹¨ê³„: ì´ˆê¸° í•„í„° ì˜µì…˜ ìƒì„±

ê·œì¹™ì´ ì ìš©ë˜ë©´ ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ:

1. **"í•„í„° ì˜µì…˜ ê´€ë¦¬"** íƒ­ ì„ íƒ
2. ì§€ì—­ ì˜µì…˜ ì¶”ê°€:
   - "ì¸ì²œ ë‚¨ë™êµ¬" ì¶”ê°€
   - "ì‹œí¥ì‹œ" ì¶”ê°€
   - "ê¹€í¬ì‹œ" ì¶”ê°€

3. ìš©ë„ ì˜µì…˜ ì¶”ê°€:
   - "ê³µì¥" ì¶”ê°€
   - "ì°½ê³ " ì¶”ê°€
   - "ì‚¬ë¬´" ì¶”ê°€

4. ê±°ë˜ìœ í˜• ì˜µì…˜ ì¶”ê°€:
   - "ë¶„ì–‘" ì¶”ê°€
   - "ë§¤ë§¤" ì¶”ê°€
   - "ì „ì„¸" ì¶”ê°€
   - "ì›”ì„¸" ì¶”ê°€

---

## ğŸ” ë¬¸ì œ í•´ê²°

### ì—¬ì „íˆ ì—ëŸ¬ê°€ ë‚˜ëŠ” ê²½ìš°

#### 1. ê·œì¹™ì´ ê²Œì‹œë˜ì—ˆëŠ”ì§€ í™•ì¸
- Firebase Console â†’ Firestore â†’ ê·œì¹™ íƒ­
- ê·œì¹™ í¸ì§‘ í›„ **"ê²Œì‹œ"** ë²„íŠ¼ì„ ëˆŒë €ëŠ”ì§€ í™•ì¸
- Storageë„ ë™ì¼í•˜ê²Œ í™•ì¸

#### 2. ìºì‹œ ì‚­ì œ
- ë¸Œë¼ìš°ì €ì—ì„œ Ctrl + Shift + Delete
- "ìºì‹œëœ ì´ë¯¸ì§€ ë° íŒŒì¼" ì²´í¬
- ì‚­ì œ í›„ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨

#### 3. ì¸ì¦ ìƒíƒœ í™•ì¸
- ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ë¡œê·¸ì•„ì›ƒ
- ë‹¤ì‹œ ë¡œê·¸ì¸
- ì½˜ì†”ì—ì„œ "âœ… ì‚¬ìš©ì ì¸ì¦ë¨" ë©”ì‹œì§€ í™•ì¸

#### 4. ê·œì¹™ ë¬¸ë²• ì˜¤ë¥˜ í™•ì¸
- Firebase Consoleì—ì„œ ê·œì¹™ íƒ­ì˜ ì˜¤ë¥¸ìª½ì— ì—ëŸ¬ ë©”ì‹œì§€ê°€ ìˆëŠ”ì§€ í™•ì¸
- ìˆë‹¤ë©´ ê·œì¹™ì„ ì •í™•íˆ ë³µì‚¬í–ˆëŠ”ì§€ ì¬í™•ì¸

---

## ğŸ“¸ ìŠ¤í¬ë¦°ìƒ· ê°€ì´ë“œ

### Firestore ê·œì¹™ ì„¤ì • í™”ë©´
```
Firebase Console
â””â”€â”€ Firestore Database
    â””â”€â”€ ê·œì¹™ íƒ­
        â”œâ”€â”€ ê·œì¹™ í¸ì§‘ê¸° (ì™¼ìª½)
        â””â”€â”€ [ê²Œì‹œ] ë²„íŠ¼ (ì˜¤ë¥¸ìª½ ìƒë‹¨) ğŸ‘ˆ ë°˜ë“œì‹œ í´ë¦­!
```

### Storage ê·œì¹™ ì„¤ì • í™”ë©´
```
Firebase Console
â””â”€â”€ Storage
    â””â”€â”€ ê·œì¹™ íƒ­
        â”œâ”€â”€ ê·œì¹™ í¸ì§‘ê¸° (ì™¼ìª½)
        â””â”€â”€ [ê²Œì‹œ] ë²„íŠ¼ (ì˜¤ë¥¸ìª½ ìƒë‹¨) ğŸ‘ˆ ë°˜ë“œì‹œ í´ë¦­!
```

---

## ğŸ’¡ íŒ

1. **ê·œì¹™ ìˆ˜ì • í›„ í•­ìƒ "ê²Œì‹œ" ë²„íŠ¼ í´ë¦­**
2. **í˜ì´ì§€ ì™„ì „íˆ ìƒˆë¡œê³ ì¹¨ (Ctrl + Shift + R)**
3. **ë¸Œë¼ìš°ì € ì½˜ì†” í•­ìƒ í™•ì¸**
4. **í…ŒìŠ¤íŠ¸ í˜ì´ì§€ë¡œ ë¨¼ì € ì—°ê²° í™•ì¸**

---

## ğŸ“ ì—¬ì „íˆ ë¬¸ì œê°€ ìˆë‹¤ë©´

1. ë¸Œë¼ìš°ì € ì½˜ì†”ì˜ **ì „ì²´ ì—ëŸ¬ ë©”ì‹œì§€** ë³µì‚¬
2. Firebase Console â†’ Firestore â†’ ê·œì¹™ íƒ­ì˜ **í˜„ì¬ ê·œì¹™** ìŠ¤í¬ë¦°ìƒ·
3. Firebase Console â†’ Storage â†’ ê·œì¹™ íƒ­ì˜ **í˜„ì¬ ê·œì¹™** ìŠ¤í¬ë¦°ìƒ·

ì´ 3ê°€ì§€ ì •ë³´ë¥¼ ê°€ì§€ê³  ë‹¤ì‹œ ë¬¸ì˜í•´ì£¼ì„¸ìš”!

